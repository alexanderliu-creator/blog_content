---
title: Vueè·¯ç”±å­¦ä¹ 
date: 2021-03-27 20:55:37
tags:
	å‰ç«¯
---



# è·¯ç”±å­¦ä¹ ï¼Œä¸‹å‘¨å°±è¦ç”¨ï¼Œèµ¶ç´§å†²ä¸€æŠŠ



<!--more-->





- ä¸‹è½½ä¸å®‰è£…ï¼š[è·¯ç”±å®˜ç½‘](https://router.vuejs.org/zh/guide/#html)

- è‡³äºåœ¨`Vue3.0`ç‰ˆæœ¬ä¸­å¦‚ä½•ä½¿ç”¨ï¼Œè¿™ä¸ªä½¿ç”¨å°±è¦å‚è€ƒ`element-ui`çš„å¼•å…¥æ–¹å¼äº†å—·ï¼ï¼ï¼`Element-UI`ä¸­ï¼Œå¯¹äºå¤–ç•ŒåŒ…çš„å¼•å…¥æœ‰æŒ‡å¯¼ä½œç”¨ï¼Œæƒ³ä¸èµ·æ¥å¯ä»¥å»æ‰¾é‚£ä¸ªå—·ï¼ï¼ï¼

![image-20210327210132984](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210327210132984.png)

- ç­‰ç­‰æˆ‘å‘ç°è¿™ä¸ª`vue add router`æ— æ•Œï¼ï¼ï¼ç›´æ¥å¸®ä½ è‡ªåŠ¨å¹²å¥½ä¸€åˆ‡å·¥ä½œï¼Œç»äº†ï¼ŒğŸ‘ï¼ï¼ï¼

![image-20210327211047804](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210327211047804.png)

- componentsé‡Œé¢ä¸»è¦æ˜¯å…¬æœ‰ç»„ä»¶ï¼Œå•é¡µé¢ä¸»è¦æ”¾åœ¨viewé‡Œé¢å—·ï¼ï¼ï¼





- scssçš„è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œè¿™ä¸ªæ—¶å€™åœ¨åº•ä¸‹çš„`style`é‡Œé¢å¦‚æœå†™å¯¹åº”çš„æ ·å¼çš„è¯ï¼Œ`.`å°±åªèƒ½å¤Ÿç”¨äºè®¿é—®classç±»å‹çš„æ ‡ç­¾äº†å—·ã€‚





# è·¯ç”±è®¾ç½®

- router.js
- ç”±äºæœ¬èº«è®¾ç½®å¥½äº†ï¼Œä½ å¯ä»¥ç…§ç€é‚£ä¸ªæ ·å¼æ¥å†™routerè§„åˆ™å³å¯ã€‚
- `App.vue`ä¸­ï¼Œå¯ä»¥æ·»åŠ å¯¼èˆªæ 

```html
<div id="nav">
    <router-link to="/">Home</router-link>
    <router-link to="/about">About</router-link>
</div>
<router-view></router-view> //å¯¼èˆªè·³è½¬çš„é¡µé¢ä¼šåŠ è½½åˆ°è¿™é‡Œæ¥
```



- è¿›å…¥é¡µé¢ä¹‹åç›´æ¥ç”±è·¯ç”±æ¥ç®¡è·³è½¬ï¼Œä»–ä¼šåœ¨ä½ æ³¨å†Œçš„è·¯ç”±é‡Œé¢å»å¯»æ‰¾å“åº”çš„å­ç»„ä»¶å¹¶ä¸”æ¸²æŸ“åˆ°åˆé€‚çš„ä½ç½®ä¸Šè¿”å›é¡µé¢ç»™ä½ ï¼Œå¦‚æœ

  ![image-20210328101649816](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328101649816.png)

  è¿™ä¸ªæ²¡æœ‰è¢«è®¾ç½®ï¼Œé‚£ä¹ˆé»˜è®¤è¿”å›ç»™ä½ çš„å°±æ˜¯ä¸€ä¸ªç©ºé¡µé¢`localhost:8080/#/`

- æ§åˆ¶ç™»å½•çš„è¯å°±éœ€è¦è·¯ç”±å®ˆå«å•¦ï¼ï¼ï¼

## è·³è½¬ï¼š

`this.$router.push(...)`

## ç¼–ç¨‹å¼å¯¼èˆªï¼š

![image-20210328104837969](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328104837969.png)

- è¿™é‡Œé€‰ä¸­ä¼šæŠŠnameèµ‹å€¼

![image-20210328105018383](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328105018383.png)

- ä»£ç ç‚¹å‡»ï¼Œç„¶åé€šè¿‡å¯¹åº”çš„æ–¹æ³•è·³è½¬



## åŠ¨æ€è·¯ç”±ï¼š

- `path:'/iview_router/:name'`ï¼Œåé¢è¾“å…¥çš„å€¼ä¼šä½œä¸ºnameå˜é‡ä¼ å…¥åˆ°ç»„ä»¶ä¸­å»å—·ã€‚
- é¡µé¢è¾“å…¥çš„`name1`ï¼Œä»åŠ¨æ€è·¯ç”±çš„åå­—åˆ°ç»„ä»¶é‡Œé¢æ¥ã€‚
- ç¼–ç¨‹å¼å¯¼èˆªåˆ™æ˜¯é€šè¿‡ç‚¹å‡»ä¸‹é¢çš„ï¼Œå°†ä¿¡æ¯ä¼ åˆ°ä¸Šé¢çš„è¾“å…¥æ æ¥ã€‚
- ç»„ä»¶å¤ç”¨ï¼š

![image-20210328105513546](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328105513546.png)





## åµŒå¥—è·¯ç”±ï¼š

![image-20210328105926576](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328105926576.png)



- æ¸²æŸ“ä½ç½®ï¼š

![image-20210328110017192](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328110017192.png)

- æ„Ÿè§‰å’Œé‚£ä¸ªå·®ä¸å¤šï¼Ÿï¼Ÿï¼Ÿè·¯ç”±åµŒå¥—ç»„ä»¶ä¼šæ¸²æŸ“åˆ°çˆ¶ç»„ä»¶çš„è¿™ä¸ªä½ç½®ã€‚
- `$router.params.id`è¿™æ ·å¼å¯ä»¥è·å–åˆ°ä¸Šé¢é‚£ä¸ªä½ç½®å¡«å…¥çš„idçš„å—·ã€‚



## è·¯ç”±é‡å®šå‘ï¼š

![image-20210328110446405](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328110446405.png)

- *ä»£è¡¨è¾“å…¥çš„åŒ¹é…ä¸ä¸Šå—·
- é‡å®šå‘å…³é”®è¯ï¼šredirect
- `/iview_router/:name`ï¼Œè¿™ä¸ªæ—¶å€™ä¸å†™nameçš„è¯ï¼Œä¹Ÿä¼šé‡å®šå‘åˆ°è¿™é‡Œå—·
- åå­—åœ¨å‘½åè·¯ç”±ä¸­ä½¿ç”¨å—·



## è·¯ç”±å‚æ•°ä¼ é€’ï¼š

1. å°±ä¸Šé¢è®²çš„`/:id`è¿™æ ·å¯ä»¥æ‹¿åˆ°å‚æ•°

2. ![image-20210328110814058](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328110814058.png)

   ![image-20210328110848914](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328110848914.png)

   å’Œçˆ¶ç©¿å­çš„æ–¹æ³•å’Œåšæ³•æ˜¯ä¸€æ ·çš„å—·

3. å¦‚æœè¿˜è¦å¾€å­ç»„ä»¶ä¼ çš„è¯ï¼Œå†ç”¨çˆ¶ä¼ å­ï¼Œæˆ–è€…busä¹Ÿå¯å—·ã€‚





## è·¯ç”±å®ˆå«ï¼š

### å…¨å±€å®ˆå«ï¼š

`router.beforeEach(to,from,next)=>{...}`å…¨å±€å‰ç½®å®ˆå«

```javascript
router.beforeEach(to,from,next){
	if(to.path == '/iview_index'){
		if(auth.islogin()){
			next()
		}else{
			next('/iview_login')
		}
	}else{
        next()
    }
}
```

- islogin()å®é™…è¿‡ç¨‹ä¸­è¦åç«¯ä¼ æ•°æ®è¿›è¡ŒéªŒè¯çš„å—·



### å±€éƒ¨å®ˆå«ï¼š

![image-20210328112225541](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328112225541.png)

- æ–°å»ºç»„ä»¶ä¹‹å‰ï¼Œå…ˆè¿›è¡Œå®ˆå«ï¼Œåˆ¤æ–­æ˜¯å¦åº”è¯¥æ–°å»ºè¿™æ ·ä¸€ä¸ªç»„ä»¶ã€‚
- å¦‚æœè¦æ—¶æ—¶åˆ»åˆ»æ›´æ–°å°±è¦ç”¨`watch`äº†ï¼Œå› ä¸ºç»„ä»¶é‚£è¾¹ï¼Œä¸é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸ä¼šé‡æ–°åˆ›å»ºè¿™ä¸ªç»„ä»¶çš„ï¼Œåªä¼šé‡è½½é¡µé¢ã€‚



## è¾“å…¥è·å–ï¼š

- åˆ©ç”¨ç‰¹å®šçš„é’©å­å‡½æ•°å°±å¯ä»¥å®ç°å•¦ï¼ï¼ï¼

![image-20210328112845060](https://gitee.com/alexs-rabbit//picture/raw/master/image-20210328112845060.png)



