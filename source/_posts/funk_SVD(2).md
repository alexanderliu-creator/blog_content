---
title: 美赛小分析文章(24)
date: 2021-02-21 16:05:21
tags: 美赛
categories: 2021年美赛
---



# 美赛模拟赛或正赛中的一个小模块~

---



<!--more-->



为了便于表达下述关系矩阵，设数据中音乐家总数为$\theta$，根据数据集给出的所有音乐家的数量为5603，$\theta$的取值为5603。

我们从已知数据中，摘取得到了不同音乐家之间的关系矩阵$\bf{M}$。
$$
\bf{M} =  \{m_{ij}\},1\le i,j\le\theta
$$
以音乐家的人数$\theta$作为矩阵的行数和列数。如果第$i$位音乐家对于第$j$位音乐家产生了影响，那么矩阵中$\bf M_{ij}$的值为1，否则为0。

由此可知，关系矩阵有$\theta^2$个元素，而其中不为零元素个数，仅占 1.3% 左右，矩阵显然为稀疏矩阵。

通过$ funk\_SVD $方法，我们可以将矩阵 M 分解成矩阵 P 与 Q 相乘，其作用如下：

- 将 $\theta\times\theta$ 的矩阵 M 变为 $\theta\times k$ 与 $k\times\theta$ (k 可任意指定) 两个矩阵 P 和 Q 相乘的近似，大大减少数据量
- 通过分解后的矩阵 P 和 Q，可以提取出 M 的隐藏信息

采用$Funk\_SVD$方法，意味着我们需要将原始的矩阵$M_{\theta\times\theta}$拆分为两个矩阵$P_{\theta\times k}$和矩阵$Q_{k\times\theta}$，括号内相乘的两个数分别表示矩阵的行数和列数，在操作时确定。

分解后，我们考察分解结果是否准确，并且分析分解后的矩阵 P 和 Q 的值意味着什么。

首先，对于原始矩阵中不为0的位置$m_{ij}$，其在分解后对应的向量为$m^{'}_{ij}$，其满足的关系为：
$$
\bf {m^{'}_{ij}} = \sum_{k=1}^{K}p_{ik}q_{kj}
$$
对于整个矩阵而言，总的损失用均方差(SSE)来衡量:
$$
SSE = E^2 = \sum_{i=1}^{\theta}\sum_{j=1}^{\theta}(\bf m_{ij}-m^{'}_{ij})^2
$$
我们最小化上述的$SSE$，能够以最小的扰动完成对于原始评分矩阵的分解。分解过后，我们只需要通过计算$M^{'}$来完成对于原始评分矩阵的填充。为了求解使得$SSE$最小的矩阵$P$与$Q$，我们采用随机梯度下降法，对于上文中的目标函数$SSE$进行求解，最终得到了我们分解后的矩阵$P$和$Q$。

我们对于原始关系矩阵通过$Funk\_SVD$进行了不同的分解，当分解的因素k为1时，得到以下图像：

![image-20210205162228899](https://gitee.com/alexs-rabbit/picture/raw/master/20210205162228.png)

上图为分解后得到矩阵P的每个元素对应音乐家影响人数，我们认为 P 的每个元素在一定程度上反映了音乐家的影响力。

图中的具体的点代表的是某个具体的音乐家，横坐标表示他（她）拥有的follower的人数，纵坐标表示它对应P的值。

![image-20210205162209322](https://gitee.com/alexs-rabbit/picture/raw/master/20210205162209.png)

上图为分解后得到矩阵Q的每个元素对应音乐家影响人数，我们认为 Q 的每个元素在一定程度上反映了音乐家容易被影响的倾向。

除了将矩阵拆分为一个因素之外，我们还尝试了将矩阵拆分为三个因素 k=3，得到的$P$和$Q$我们分别进行了归一化处理，并且得到了以下的图像：

![image-20210205155220916](https://gitee.com/alexs-rabbit/picture/raw/master/20210205155220.png)

![image-20210205155229625](https://gitee.com/alexs-rabbit/picture/raw/master/20210205155229.png)

上下两图分别展示了，拆分后的矩阵$P$与$Q$的结果。我们发现，在上下两图中，拆分后得到的三个因素，与只用一个因素进行矩阵拆分后的结果相比，拆分后的三个因素表现出来都是正相关或是负相关的关系。这告诉我们，将原始矩阵以一个因素进行拆分足以表示数据的信息，也告诉我们，将原始矩阵以一个因素拆分并且进行分析是可靠的，可行的。

我们在 k=1 时，对矩阵P进行归一化处理，并使用 Sigmoid 函数进行拟合，达成如下结果：

![influence-follower](https://gitee.com/koorye/picgo/raw/master/influence-follower.png)

由此我们认为，音乐家的“音乐影响”系数 $c_i$ 与音乐家的追随者人数 $n_f$ 之间存在如下关系：
$$
c_i=\frac{0.95}{1+e^{-0.15n_f}}
$$

这里使用sigmoid函数拟合的结果也较为合理。和种群自然环境中增长的模型相似，音乐家和follower数量也是符合类似规律的。当音乐家的follower较少时，随着follower的增加，follower的人际关系会为音乐家带来更多的follower，音乐家的影响力会急剧上升。当follower的数量逐渐增加到饱和时，意味着follower的人际圈子里已经大多都成为了follower，这个时候音乐家再想提高影响力，困难就大大增加了。影响力达到了饱和状态。





